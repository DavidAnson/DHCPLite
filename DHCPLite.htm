<html>
 <head>
  <title>DHCPLite Documentation</title>
  <style type="text/css">
   <!--
   BODY { font-family:"Arial" }
   .Title { font-size:"150%" ; font-weight:bold ; text-decoration:underline }
   .Heading { font-size:"105%" ; font-weight:bold ; text-decoration:underline }
   TR { vertical-align:top }
   UL { margin-top:0 ; margin-bottom:0 }
   OL { margin-top:0 ; margin-bottom:0 }
   -->
  </style>
 </head>
 <body>
  <div align=center>
   <div class=Title>DHCPLite Documentation</div>
   <br>
   David Anson (<a href="mailto:DavidAns@Microsoft.com">DavidAns@Microsoft.com</a>)<br>
   October 31<sup>st</sup>, 2001
  </div>
  <br><br>
  <div class=Heading>Summary</div>
  For those times when you need a DHCP server but don't have the right hardware or software: now there's DHCPLite!
  DHCPLite is a small, simple, configuration-free DHCP (Dynamic Host Configuration Protocol) server that you can run on your favorite Windows 2000 Professional machine and serve IP addresses to Windows machines, Windows CE devices, or any other RFC2131/2132 compliant equipment.
  <br>
  <br><br>
  <table width="100%" bgcolor="#ffdddd"><tr><td>
   <font color="red">
   <div class=Heading>!! Warning !!</div>
   </font>
   Do <b><u>NOT</u></b> run DHCPLite on a host machine connected to a network that already has DHCP servers on it (<u>such as Microsoft's CorpNet</u>).
   DHCPLite was not designed to cooperate with other DHCP servers and will almost certainly cause serious problems.
   <b>So don't do it!</b><br>
  </td></tr></table>
  <br><br>
  <div class=Heading>Implementation Notes</div>
  <ol>
   <li>DHCPLite was designed to work well with APIPA (Automatic Private IP Addressing (Auto-IP)). If the DHCPLite host machine acquired its IP address in this manner, DHCPLite will NOT serve a new address to the host machine. Of course, other machines on the network will still be able to obtain IP addresses from DHCPLite.</li>
   <li>DHCPLite determines the range of addresses it will hand out based on the current IP address and subnet mask of the first network adapter of the machine on which it is being run. In the case of a host configured by APIPA, this yields a host address of the form 169.254.x.x and a range of over 65,000 available addresses. In the case of a host with a static IP address, the host address and range can be changed by altering the static IP address and subnet mask settings on the host machine.</li>
   <li>Once it has assigned an IP address to a specific machine, DHCPLite will ALWAYS assign that same address to the machine (until DHCPLite is shutdown and restarted). This means that it is possible to exhaust the available address space with either a very large number of machines or a very small address space. This by design because the benefits are believed to outweigh the (unlikely) problems.</li>
   <li>In an attempt to avoid possible mis-configuration problems, DHCPLite hands out address leases that are valid for only 1 hour. However, lease renewal is supported, so this should not be a problem (as long as DHCPLite is running).</li>
   <li>DHCPLite requires the IP Helper API (implemented in iphlpapi.dll); if this file is not present, DHCPLite will not run.</li>
  </ol>
  <br><br>
  <div class=Heading>Unsupported Features</div>
  <ul>
   <li>Multi-homed host machines (i.e., host machines with more than one network card). Because the WinSock API does not allow an application to disable routing of outbound datagrams (sockopt SO_DONTROUTE is (silently!) ignored), DHCPLite can not ensure that all outgoing datagrams will use the intended interface.</li>
  </ul>
  <br><br>
  <div class=Heading>Unsupported DHCP Features</div>
  <ul>
   <li>DHCPDECLINE, DHCPRELEASE, and DHCPINFORM messages. (See note 3 above.)</li>
   <li>Requested IP Address option. (Related to note 3 above.)</li>
   <li>Unicast to hardware address. Because DHCPLite is a Win32 client application, it does not have access to the underlying network drivers that would allow it to accomplish this task. Instead, broadcast messages are used and other DHCP clients are relied upon to ignore spurious DHCP messages.</li>
  </ul>
  <br><br>
  <div class=Heading>Tested Clients</div>
  <ul>
   <li>Windows XP Professional</li>
   <li>Windows 2000 Server</li>
   <li>Windows 2000 Professional</li>
   <li>Windows Millennium</li>
   <li>Windows CE 3.0</li>
  </ul>
  <br><br>
  <div class=Heading>History</div>
  <ul>
   <li>2001-3-9 : Initial release</li>
   <li>2001-10-31 : Changed to return an error on multi-homed machines (now unsupported - see above)</li>
  </ul>
  <br><br>
  <div class=Heading>Bug Reports</div>
  Please send email to me, David Anson (<a href="mailto:DavidAns@Microsoft.com">DavidAns@Microsoft.com</a>), with a detailed description of any problems you encounter.
  If possible, please include a Microsoft Network Monitor trace that demonstrates the problem.<br>
  <br><br>
  <i>Thanks and enjoy!!!</i>
 </body>
</html>
